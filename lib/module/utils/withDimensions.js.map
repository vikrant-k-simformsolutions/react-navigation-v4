{"version":3,"sources":["withDimensions.tsx"],"names":["React","Dimensions","hoistNonReactStatic","isOrientationLandscape","width","height","withDimensions","WrappedComponent","EnhancedComponent","Component","constructor","props","window","setState","dimensions","isLandscape","get","state","componentDidMount","listener","addEventListener","handleOrientationChange","componentWillUnmount","remove","render","displayName"],"mappings":";;;;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,SAASC,UAAT,QAAuC,cAAvC;AACA,OAAOC,mBAAP,MAAgC,yBAAhC;AAYA,OAAO,MAAMC,sBAAsB,GAAG,CAAC;AAAEC,EAAAA,KAAF;AAASC,EAAAA;AAAT,CAAD,KACpCD,KAAK,GAAGC,MADH;AAGP,eAAe,SAASC,cAAT,CACbC,gBADa,EAEgE;AAC7E,QAAMC,iBAAN,SAAgCR,KAAK,CAACS,SAAtC,CAAgD;AAE9C;AAGAC,IAAAA,WAAW,CAACC,KAAD,EAAe;AACxB,YAAMA,KAAN;;AADwB,wCAFV,IAEU;;AAAA,uDAqBA,CAAC;AAAEC,QAAAA;AAAF,OAAD,KAAwC;AAChE,cAAM;AAAER,UAAAA,KAAF;AAASC,UAAAA;AAAT,YAAoBO,MAA1B;AACA,aAAKC,QAAL,CAAc;AACZC,UAAAA,UAAU,EAAE;AAAEV,YAAAA,KAAF;AAASC,YAAAA;AAAT,WADA;AAEZU,UAAAA,WAAW,EAAEZ,sBAAsB,CAAC;AAAEC,YAAAA,KAAF;AAASC,YAAAA;AAAT,WAAD;AAFvB,SAAd;AAID,OA3ByB;;AAGxB,YAAM;AAAED,QAAAA,KAAK,EAALA,MAAF;AAASC,QAAAA,MAAM,EAANA;AAAT,UAAoBJ,UAAU,CAACe,GAAX,CAAe,QAAf,CAA1B;AACA,WAAKC,KAAL,GAAa;AACXH,QAAAA,UAAU,EAAE;AAAEV,UAAAA,KAAK,EAALA,MAAF;AAASC,UAAAA,MAAM,EAANA;AAAT,SADD;AAEXU,QAAAA,WAAW,EAAEZ,sBAAsB,CAAC;AAAEC,UAAAA,KAAK,EAALA,MAAF;AAASC,UAAAA,MAAM,EAANA;AAAT,SAAD;AAFxB,OAAb;AAID;;AAEDa,IAAAA,iBAAiB,GAAG;AAClB,WAAKC,QAAL,GAAgBlB,UAAU,CAACmB,gBAAX,CACd,QADc,EAEd,KAAKC,uBAFS,CAAhB;AAID;;AAEDC,IAAAA,oBAAoB,GAAG;AAAA;;AACrB,6BAAKH,QAAL,kEAAeI,MAAf;AACD;;AAUDC,IAAAA,MAAM,GAAG;AACP;AACA,0BAAO,oBAAC,gBAAD,eAAsB,KAAKb,KAA3B,EAAsC,KAAKM,KAA3C,EAAP;AACD;;AArC6C,GAD6B,CAyC7E;;;AAzC6E,kBACvET,iBADuE,0CAEpCD,gBAAgB,CAACkB,WAFmB;;AA0C7E,SAAOvB,mBAAmB,CAACM,iBAAD,EAAoBD,gBAApB,CAA1B;AACD","sourcesContent":["import * as React from 'react';\nimport { Dimensions, ScaledSize } from 'react-native';\nimport hoistNonReactStatic from 'hoist-non-react-statics';\n\ntype DimensionsType = {\n  width: number;\n  height: number;\n};\n\ntype InjectedProps = {\n  dimensions: DimensionsType;\n  isLandscape: boolean;\n};\n\nexport const isOrientationLandscape = ({ width, height }: DimensionsType) =>\n  width > height;\n\nexport default function withDimensions<Props extends InjectedProps>(\n  WrappedComponent: React.ComponentType<Props>\n): React.ComponentType<Pick<Props, Exclude<keyof Props, keyof InjectedProps>>> {\n  class EnhancedComponent extends React.Component {\n    static displayName = `withDimensions(${WrappedComponent.displayName})`;\n    // eslint-disable-next-line react/sort-comp\n    listener: any = null;\n\n    constructor(props: Props) {\n      super(props);\n\n      const { width, height } = Dimensions.get('window');\n      this.state = {\n        dimensions: { width, height },\n        isLandscape: isOrientationLandscape({ width, height }),\n      };\n    }\n\n    componentDidMount() {\n      this.listener = Dimensions.addEventListener(\n        'change',\n        this.handleOrientationChange\n      );\n    }\n\n    componentWillUnmount() {\n      this.listener?.remove();\n    }\n\n    handleOrientationChange = ({ window }: { window: ScaledSize }) => {\n      const { width, height } = window;\n      this.setState({\n        dimensions: { width, height },\n        isLandscape: isOrientationLandscape({ width, height }),\n      });\n    };\n\n    render() {\n      // @ts-ignore\n      return <WrappedComponent {...this.props} {...this.state} />;\n    }\n  }\n\n  // @ts-ignore\n  return hoistNonReactStatic(EnhancedComponent, WrappedComponent);\n}\n"]}